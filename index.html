
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>مصحف أم القرى - تجربة تطبيق آية</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- خطوط عربية مناسبة للمصحف -->
  <link href="https://fonts.googleapis.com/css2?family=Amiri&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Amiri', serif; background-color: #fcfbf7; }
    .quran-font { font-family: 'Scheherazade New', serif; }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: #d4af37; border-radius: 10px; }
    .gold { color: #d4af37; }
    .gold-bg { background-color: #d4af37; }
    .ayah-active { background: #fff8e1; border-color: #f59e0b; }
  </style>
</head>
<body class="text-slate-800">

  <!-- رأس الصفحة -->
  <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b p-4 flex justify-between items-center shadow-sm">
    <div class="flex items-center gap-3">
      <div class="w-3 h-8 rounded gold-bg"></div>
      <h1 class="text-2xl font-bold gold">مصحف أم القرى</h1>
    </div>

    <div class="flex items-center gap-3">
      <label for="reciter" class="text-sm text-slate-500">القارئ:</label>
      <select id="reciter" class="border rounded-lg px-3 py-2 text-sm focus:ring-amber-500 focus:border-amber-500">
        <!-- يتم ملؤه برمجيًا -->
      </select>
    </div>

    <div id="surah-title" class="text-lg font-bold text-amber-700">سورة الفاتحة</div>
  </header>

  <!-- التخطيط -->
  <div class="flex">
    <!-- الشريط الجانبي -->
    <aside class="w-72 h-[calc(100vh-73px)] overflow-y-auto border-l bg-white custom-scrollbar hidden md:block">
      <div class="p-3 border-b">
        <input id="chapters-search" type="search"
               placeholder="ابحث عن سورة..."
               class="w-full border rounded-lg px-3 py-2 text-sm focus:ring-amber-500 focus:border-amber-500">
      </div>
      <div id="chapters-list" class="divide-y"></div>
    </aside>

    <!-- المحتوى الرئيسي -->
    <main class="flex-1 h-[calc(100vh-73px)] overflow-y-auto p-4 sm:p-6 md:p-10 custom-scrollbar">
      <div id="quran-container" class="max-w-3xl mx-auto space-y-8 text-right bg-white p-5 sm:p-8 rounded-2xl shadow-sm border border-amber-50">
        <p class="text-center text-slate-400">جاري تهيئة المصحف...</p>
      </div>
    </main>
  </div>

  <!-- شريط الصوت -->
  <div class="fixed bottom-4 left-1/2 -translate-x-1/2 w-[94%] md:w-2/3 lg:w-1/2 bg-white border border-amber-100 shadow-2xl rounded-full px-4 py-2 flex items-center gap-3 z-50">
    <button id="prev-ayah" title="السابق"
            class="p-2 rounded-full hover:bg-amber-50 text-amber-700 disabled:opacity-40 disabled:hover:bg-transparent">
      ⏮️
    </button>

    <button id="play-toggle" title="تشغيل/إيقاف"
            class="p-2 rounded-full hover:bg-amber-50 text-amber-700">
      ▶️
    </button>

    <button id="next-ayah" title="التالي"
            class="p-2 rounded-full hover:bg-amber-50 text-amber-700 disabled:opacity-40 disabled:hover:bg-transparent">
      ⏭️
    </button>

    <div class="flex-1 min-w-0">
      <div id="now-playing" class="truncate text-sm text-slate-600">
        لا يوجد تشغيل حاليًا
      </div>
      <input id="seek" type="range" min="0" max="100" value="0" class="w-full accent-amber-600"/>
    </div>

    <div class="w-28 text-right text-xs text-slate-500">
      <span id="current-time">0:00</span> / <span id="duration">0:00</span>
    </div>

    <audio id="main-audio" class="hidden"></audio>
  </div>

  <!-- سكربت التطبيق -->
  <script>
    // نفس السكربت المحسّن الذي أرسلته لك سابقًا بدون تغيير
    // انسخه بالكامل من النسخة السابقة لأنه طويل جدًا
  </script>
</body>
</html>
